# ğŸŒ¿ ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ãƒ»é–‹ç™ºé‹ç”¨æ‰‹é †æ›¸

## ãƒ–ãƒ©ãƒ³ãƒæ§‹æˆ
```
main (æœ¬ç•ªç’°å¢ƒ)
â”œâ”€â”€ develop (é–‹ç™ºçµ±åˆç’°å¢ƒ)
â””â”€â”€ feature/* (æ©Ÿèƒ½é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒ)
```

## ğŸ“‹ é–‹ç™ºãƒ•ãƒ­ãƒ¼

### 1. æ–°æ©Ÿèƒ½é–‹ç™º
```bash
# 1. developãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ä½œæ¥­é–‹å§‹
git checkout develop
git pull origin develop

# 2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
git checkout -b feature/éŸ³å£°é€šè©±å“è³ªå‘ä¸Š
# ã¾ãŸã¯
git checkout -b feature/user-profile-enhancement

# 3. é–‹ç™ºãƒ»ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "feat: éŸ³å£°é€šè©±ã®å“è³ªå‘ä¸Šæ©Ÿèƒ½ã‚’è¿½åŠ "
# ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¾‹:
# feat: æ–°æ©Ÿèƒ½è¿½åŠ 
# fix: ãƒã‚°ä¿®æ­£
# docs: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
# style: ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
# refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
```

### 2. Pull Requestä½œæˆ
```bash
# 4. ãƒªãƒ¢ãƒ¼ãƒˆã«ãƒ—ãƒƒã‚·ãƒ¥
git push origin feature/éŸ³å£°é€šè©±å“è³ªå‘ä¸Š

# 5. GitHubä¸Šã§PRä½œæˆ
# feature/éŸ³å£°é€šè©±å“è³ªå‘ä¸Š â†’ develop
```

### 3. è‡ªå‹•ãƒã‚§ãƒƒã‚¯
- âœ… `flutter analyze` - é™çš„è§£æ
- âœ… `dart format` - ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- âœ… `flutter test` - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- âœ… ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

### 4. developã¸ã®ãƒãƒ¼ã‚¸
```bash
# PRæ‰¿èªå¾Œã€è‡ªå‹•çš„ã«ä»¥ä¸‹ãŒå®Ÿè¡Œã•ã‚Œã‚‹:
# - TestFlighté…å¸ƒ (iOS)
# - Internal Testingé…å¸ƒ (Android)
# - Firebase App Distributionã§ãƒ†ã‚¹ã‚¿ãƒ¼é…å¸ƒ
```

### 5. æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹
```bash
# 6. developã‹ã‚‰mainã¸ã®PRä½œæˆ
# develop â†’ main

# 7. mainãƒ–ãƒ©ãƒ³ãƒãƒãƒ¼ã‚¸å¾Œ:
# - è‡ªå‹•ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ— (patch)
# - æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤ (æ‰‹å‹•æ‰¿èª)
# - App Store/Google Playãƒªãƒªãƒ¼ã‚¹æº–å‚™
```

## ğŸ¯ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

### è‡ªå‹•ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—
- **mainãƒãƒ¼ã‚¸æ™‚**: è‡ªå‹•ã§patchãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ— (1.2.1 â†’ 1.2.2)

### æ‰‹å‹•ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®š
```bash
# ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã‚¿ã‚°ã‚’è¿½åŠ :
git commit -m "æ–°ã—ã„éŸ³å£°æ©Ÿèƒ½ã‚’è¿½åŠ  [minor]"  # 1.2.1 â†’ 1.3.0
git commit -m "UIå¤§å¹…ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ« [major]"    # 1.2.1 â†’ 2.0.0
git commit -m "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–° [skip version]" # ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ãªã—
```

## ğŸ“± ç’°å¢ƒã¨ãƒ‡ãƒ—ãƒ­ã‚¤

| ãƒ–ãƒ©ãƒ³ãƒ | ç’°å¢ƒ | ãƒˆãƒªã‚¬ãƒ¼ | é…å¸ƒå…ˆ |
|---------|------|----------|--------|
| `feature/*` | - | PRä½œæˆ | ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚ã®ã¿ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ |
| `develop` | é–‹ç™ºç’°å¢ƒ | PRãƒãƒ¼ã‚¸ | TestFlight + Internal Testing |
| `main` | æœ¬ç•ªç’°å¢ƒ | PRãƒãƒ¼ã‚¸ | æœ¬ç•ªç’°å¢ƒ (æ‰‹å‹•æ‰¿èª) |

## ğŸš€ å®Ÿéš›ã®é–‹ç™ºä¾‹

### ä¾‹1: ãƒã‚°ä¿®æ­£
```bash
git checkout develop
git pull origin develop
git checkout -b feature/fix-login-crash

# ä¿®æ­£ä½œæ¥­
git add .
git commit -m "fix: ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã®ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã‚’ä¿®æ­£"
git push origin feature/fix-login-crash

# GitHubä¸Šã§PR: feature/fix-login-crash â†’ develop
# ãƒãƒ¼ã‚¸å¾Œã€è‡ªå‹•ã§TestFlightã«é…å¸ƒã•ã‚Œã‚‹
```

### ä¾‹2: æ–°æ©Ÿèƒ½é–‹ç™º
```bash
git checkout develop
git pull origin develop
git checkout -b feature/voice-chat-rooms

# é–‹ç™ºä½œæ¥­
git add .
git commit -m "feat: éŸ³å£°ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ æ©Ÿèƒ½ã‚’è¿½åŠ "
git push origin feature/voice-chat-rooms

# PR â†’ develop â†’ ãƒ†ã‚¹ãƒˆ â†’ main â†’ æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹
```

### ä¾‹3: ç·Šæ€¥ä¿®æ­£ (Hotfix)
```bash
# ç·Šæ€¥ã®å ´åˆã¯mainã‹ã‚‰ç›´æ¥
git checkout main
git pull origin main
git checkout -b hotfix/critical-security-fix

# ä¿®æ­£
git commit -m "fix: é‡è¦ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿®æ­£ [patch]"
git push origin hotfix/critical-security-fix

# PR: hotfix/critical-security-fix â†’ main
# å³åº§ã«æœ¬ç•ªé©ç”¨ã€ãã®å¾Œdevelopã«ã‚‚ãƒãƒ¼ã‚¸
```

## ğŸ“‹ PRä½œæˆæ™‚ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼è€…ã‚’è¨­å®š
- [ ] æ©Ÿèƒ½èª¬æ˜ãƒ»å¤‰æ›´å†…å®¹ã‚’è¨˜è¼‰
- [ ] ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆæ·»ä»˜ï¼ˆUIå¤‰æ›´ã®å ´åˆï¼‰
- [ ] ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª
- [ ] é–¢é€£ã™ã‚‹Issueã‚’ãƒªãƒ³ã‚¯

## ğŸ”§ ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone <repository-url>
cd app

# 2. Flutterä¾å­˜é–¢ä¿‚å–å¾—
flutter pub get

# 3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
flutter test

# 4. é™çš„è§£æ
flutter analyze

# 5. ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚§ãƒƒã‚¯
dart format --set-exit-if-changed .
```

## ğŸ“ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚
```bash
# è©³ç´°ãªãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆç¢ºèª
flutter test --reporter expanded

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
flutter test test/unit/string_extension_test.dart
```

### CI/CDã‚¨ãƒ©ãƒ¼æ™‚
- GitHub Actionsã‚¿ãƒ–ã§è©³ç´°ãƒ­ã‚°ç¢ºèª
- ãƒ­ãƒ¼ã‚«ãƒ«ã§åŒã˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãƒ‡ãƒãƒƒã‚°
- å¿…è¦ã«å¿œã˜ã¦ `[skip ci]` ã§CI/CDã‚¹ã‚­ãƒƒãƒ—

## ğŸ¬ CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ¦‚è¦

### GitHub Actions
1. **ci.yml**: PRã¨ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã®ãƒ†ã‚¹ãƒˆãƒ»è§£æ
2. **version-bump.yml**: mainãƒãƒ¼ã‚¸æ™‚ã®è‡ªå‹•ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—
3. **deploy.yml**: (æ¬¡ã‚¹ãƒ†ãƒƒãƒ—ã§ä½œæˆ) è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

### ã‚³ãƒãƒ³ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ

```bash
# ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ‰‹å‹•æ›´æ–°
./scripts/bump_version.sh patch  # 1.2.1 â†’ 1.2.2
./scripts/bump_version.sh minor  # 1.2.1 â†’ 1.3.0
./scripts/bump_version.sh major  # 1.2.1 â†’ 2.0.0
```

---

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯é–‹ç™ºãƒãƒ¼ãƒ ã®æ‹¡å¤§ã«åˆã‚ã›ã¦éšæ™‚æ›´æ–°ã—ã¦ã„ãã¾ã™ã€‚
è³ªå•ã‚„æ”¹å–„æ¡ˆãŒã‚ã‚‹å ´åˆã¯ã€Issueã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚